<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>mTouch CVD Framework: Faster Response Time - Troubleshooting the Framework</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="main.html">main</a>      </li>
      <li><a class="el" href="_troubleshoot.html">Troubleshooting the Framework</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Faster Response Time - Troubleshooting the Framework </h1>  </div>
</div>
<div class="contents">
<p>The response time of your system is going to be determined by the equation: </p>
<div class="fragment"><pre class="fragment"> Response Time = mTouch <a class="code" href="group___acquisition.html#ga15e1bec7c941bb3bf0e0c4b665a322b3" title="mTouch CVD Framework Interrupt Service Routine">ISR</a> Interrupt Rate * CVD_NUMBER_SENSORS * <a class="code" href="group___configuration.html#gaa95d8aa0b036cfec55969edc8e99b2ea" title="Determines the degree of oversampling and the sample rate of your system.">CVD_SAMPLES_PER_SCAN</a> * <a class="code" href="group___configuration.html#ga2525a2dbfe277b5eaa4857f1f4a4b657" title="Number of consecutive scans a sensor must be decoded as pressed before changing states.">DEBOUNCE_COUNT_PRESS</a>
</pre></div><p>The mTouch ISR Interrupt Rate is determined by the equation: </p>
<div class="fragment"><pre class="fragment"> mTouch <a class="code" href="group___acquisition.html#ga15e1bec7c941bb3bf0e0c4b665a322b3" title="mTouch CVD Framework Interrupt Service Routine">ISR</a> Interrupt Rate = (Fosc / 4) * Timer0 Prescaler * 224
</pre></div><p> where 224 is the average number of counts the TMR0 register must count through before tripping its flag. This value is not 256 due to the 'jittering' feature which varies the individual sampling times by preloading a value into the timer register.</p>
<p><br/>
</p>
<p><b>Suggestions for Making the Response Time Faster:</b><br/>
</p>
<p><br/>
</p>
<ul>
<li><b>1. Decrease <a class="el" href="group___configuration.html#gaa95d8aa0b036cfec55969edc8e99b2ea" title="Determines the degree of oversampling and the sample rate of your system.">CVD_SAMPLES_PER_SCAN</a> to reduce the amount of oversampling.</b><br/>
<br/>
 This configuration option should never drop below 10 in normal applications. The higher this value is, the more stable the sensor's readings will be coming out of the acquisition ISR. However - the diminishing returns on this value follow an exponential curve. In other words, the increase in signal fidelity when changing from 10 to 20 samples is about the same as changing from 40 to 80.</li>
</ul>
<p><br/>
</p>
<ul>
<li><b>2. Reduce the TMR0 Prescaler value.</b><br/>
<br/>
 This will increase the rate at which the timer's counter will increment. Do not set this value to 1:1 or the interrupt will occur too quickly to allow processing in the main loop. This value is determined by the application when it initializes the OPTION register. The framework does not adjust this register.</li>
</ul>
<p><br/>
</p>
<ul>
<li><b>3. Increase the PIC's oscillator frequency.</b><br/>
<br/>
 This will increase the rate at which the timer's counter will increment, but will also increase the amount of power needed by the PIC.</li>
</ul>
<p><br/>
</p>
<ul>
<li><b>4. Decrease <a class="el" href="group___configuration.html#ga392407b03210dcc0d87246c8f6911a5b" title="Number of CVD Sensor Inputs.">CVD_NUMBER_SENSORS</a>.</b><br/>
<br/>
 The mTouch Framework scans all sensors completely before returning the result to be processed by the main loop application. Reducing the number of sensors being scanned will reduce the number of times the ISR must be called before new data is available.</li>
</ul>
<p><br/>
</p>
<ul>
<li><b>5. Reduce the amount of debouncing required to change sensor states.</b><br/>
<br/>
 There are two debounce values available:<br/>
 <a class="el" href="group___configuration.html#ga2525a2dbfe277b5eaa4857f1f4a4b657" title="Number of consecutive scans a sensor must be decoded as pressed before changing states.">DEBOUNCE_COUNT_PRESS</a> is for the RELEASE-to-PRESS transition.<br/>
 <a class="el" href="group___configuration.html#ga51e1a7d2f93690b1a16330be275e57ba" title="Number of consecutive scans a sensor must be decoded as released before changing states.">DEBOUNCE_COUNT_RELEASE</a> is for the PRESS-to-RELEASE transition. </li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>mTouch CVD Framework v1.1 documentation by&#160;
<a href="http://www.microchip.com"> 
<img class="footer" src="../includes/mchp.jpeg" alt="Click here to visit our website at www.microchip.com"/></a></small></address> 
</body> 
</html> 
